ğŸ“ crawler/fetcher.py
_fetch()
_fetch_cached()
_fetch_html_follow_js_redirect()
_CACHE (ë³€ìˆ˜)
_CACHE_TTL (ë³€ìˆ˜)
ğŸ“ crawler/worker.py
_MyResultWorker (í´ë˜ìŠ¤)
_MyResultWorkerPool (í´ë˜ìŠ¤)
_get_mr_worker()
_MR_WORKER (ë³€ìˆ˜)
_MR_WORKER_LOCK (ë³€ìˆ˜)
ğŸ“ crawler/engine.py
_crawl_one()
main_loop()
ğŸ“ crawler/scheduler.py
last_run (ë³€ìˆ˜ â†’ í´ë˜ìŠ¤ ì†ì„±)
last_fetch (ë³€ìˆ˜ â†’ í´ë˜ìŠ¤ ì†ì„±)
(ìŠ¤ì¼€ì¤„ë§ ë¡œì§)
ğŸ“ webapp/services/marathon.py
MarathonService (í´ë˜ìŠ¤)
- list_marathons()
- create_marathon()
- update_marathon()
- get_marathon()
ğŸ“ webapp/services/participant.py
ParticipantService (í´ë˜ìŠ¤)
- list_participants()
- create_participant()
- delete_participant()
- get_participant_data()
- normalize_bib_for_spct()
ğŸ“ webapp/services/prediction.py
PredictionService (í´ë˜ìŠ¤)
- calculate_prediction()
- check_finish_status()
- _is_finish_label()
- _check_finish_status() â†’ check_finish_status()
ğŸ“ webapp/services/records.py
RecordsService (í´ë˜ìŠ¤)
- get_all_records()
- _pick_best_record_for_participant()
- _sort_key()
- _max_split_km()
ğŸ“ webapp/routes/api.py
api_list_marathons()
api_create_marathon()
api_update_marathon()
api_list_participants()
api_create_participant()
api_delete_participant()
api_participant_data()
api_debug_participant()
api_records()
ğŸ“ webapp/routes/pages.py
page_index()
page_race_mid()
page_race_qs()
page_admin()
ui_records()
ğŸ“ webapp/routes/static_routes.py
_serve_static()
ğŸ“ webapp/app.py
create_app() (Flask ì•± íŒ©í† ë¦¬)